<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Sensitivity">
	<resultMap id="BannerResultMap" type="Sensitivity">
	     <id column="id" property="id"/>
	     <result column="sensitivity_content" property="sensitivityContent"/>
		<result column="type" property="type"/>
	       <result column="id" property="id"/>
	</resultMap>

	<sql id="Base_Column_List">
		  id,sensitivity_content,`type`
	</sql>

	<select id="get" parameterType="map" resultMap="BannerResultMap">
		select
		<include refid="Base_Column_List" />
		from sensitivity
		where id = #{arg0}
	</select>

   <sql id="queryCondtion">
       <if test="sensitivityContent!=null and sensitivityContent!=''">
           and sensitivity_content like concat('%',#{sensitivityContent},'%')
       </if>
	   <if test="type!=null and type!=''">
		   and `type` = #{type}
	   </if>
   </sql>

	<select id="queryCount" parameterType="map" resultType="int">
		select count(*) from sensitivity where 1=1
		<include refid="queryCondtion"></include> 
	</select>
	<select id="query" parameterType="map" resultMap="BannerResultMap">
		select <include refid="Base_Column_List" /> from sensitivity where 1=1
		<include refid="queryCondtion"></include>
		order by create_time desc
		limit ${iDisplayStart},${iDisplayLength}
	</select>
	
	<select id="queryAll"  resultMap="BannerResultMap">
		select <include refid="Base_Column_List" /> from sensitivity 
	</select>

	<insert id="insert" parameterType="map">
		insert into sensitivity(id,sensitivity_content,`type`,create_time,create_man) values(#{id},#{sensitivityContent},#{type},#{createTime},#{createMan})
	</insert>

	<delete id="delete" parameterType="map">
		DELETE FROM sensitivity
		WHERE id = #{arg0}
	</delete>

	
	<update id="update" parameterType="map">
		UPDATE sensitivity
		<set>
			<if test="sensitivityContent != null and sensitivityContent!=''">
				sensitivity_content = #{sensitivityContent},
			</if>
			<if test="type != null and type!=''">
				`type` = #{type},
			</if>
		</set>
		WHERE id = #{id}
	</update>

</mapper>
