<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="Account" >
   <!-- 入账 -->
   <update id="inAccount" parameterType="Map">
    
    update account set 
    <if test="type==1">
    recharge_amounts=recharge_amounts+#{amount}
    </if>
    <if test="type==2">
    remainder_amounts=remainder_amounts+#{amount}
    </if>
    <if test="type==3">
    frozen_amounts=frozen_amounts+#{amount}
    </if>
    where customer_id = #{userId}
   
   </update>
  
   <!-- 出账 -->
   <update id="outAccount" parameterType="Map">
    update account set
    <if test="type==1">
    recharge_amounts=recharge_amounts-#{amount}
    </if>
    <if test="type==2">
    remainder_amounts=remainder_amounts-#{amount}
    </if>
    <if test="type==3">
    frozen_amounts=frozen_amounts-#{amount}  ,
    remainder_amounts=remainder_amounts+#{amount}
    </if>
    where customer_id = #{userId}
   </update>
  
  
</mapper>