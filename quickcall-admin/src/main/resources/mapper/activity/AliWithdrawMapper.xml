<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="AliWithdraw" >
  <resultMap id="BaseResultMap" type="com.calf.module.activity.entity.AliWithdraw" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 13 13:59:31 CST 2017.
    -->
    <id column="id" jdbcType="VARCHAR" property="id" />
    <result column="onceid" jdbcType="VARCHAR" property="onceId" />
    <result column="account_id" jdbcType="VARCHAR" property="accountId" />
    <result column="money" jdbcType="DECIMAL" property="money" />
    <result column="createdate" jdbcType="TIMESTAMP" property="createdate" />
	<result property="phoneNum" column="phone_num"/>  
  </resultMap>
   <sql id="Base_Column_List">
   id,onceid,account_id,money,createdate
  </sql>
   <select id="queryCount" parameterType="map" resultType="int">
	      select
	        count(id)
		from withdraw aw  left join account ac on aw.account_id = ac.account_id where 1=1
		<if test="phoneNum !=null"> and ac.phone_num = #{phoneNum}</if>
		<if test="orderStr !=null"> order by  #{orderStr}</if>
	</select>
	<select id="query" parameterType="map" resultMap="BaseResultMap">
    SELECT aw.*,ac.phone_num
		FROM withdraw aw  
		LEFT JOIN account ac ON aw.account_id = ac.account_id
		  WHERE 1=1
		<if test="phoneNum !=null"> and ac.phone_num = #{phoneNum}</if>
		<if test="orderStr !=null"> order by  #{orderStr}</if>
		limit ${iDisplayStart},${iDisplayLength}
    </select>
  
  
</mapper>