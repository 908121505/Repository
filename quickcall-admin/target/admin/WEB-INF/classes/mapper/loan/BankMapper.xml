<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Bank">

	<resultMap type="Bank" id="bankinfoMap">
		<id property="bankId" column="bank_id"></id>
		<result property="bankName" column="bank_name"></result>
		<result property="useId" column="use_id"></result>
		<result property="bankCode" column="bank_code"></result>
		<result property="bankAvatar" column="bank_avatar"></result>
		<result property="bankLink" column="bank_link"></result>
		<result property="state" column="state"></result>
		<result property="remark" column="remark"></result>
		<result property="serialNum" column="serial_num"></result>
		<result property="isRecommend" column="is_recommend"></result>
		<result property="sort" column="sort"></result>
	</resultMap>

	<!-- 通用查询结果列 -->
	<sql id="Base_Column_List">
		bank_id, bank_name, use_id, bank_code, bank_avatar,
		bank_link, state, remark,
		serial_num, is_recommend, sort
	</sql>
	<select id="get" parameterType="map" resultMap="bankinfoMap">
		select
		<include refid="Base_Column_List" />
		from bank
	</select>
	<insert id="insert" parameterType="map">
		INSERT INTO bank
		(bank_id,bank_name,use_id,bank_code,bank_avatar,bank_link,state,remark,serial_num,is_recommend,sort)
		VALUES
		(#{bankId},#{bankName},#{useId},#{bankCode},#{bankAvatar},#{bankLink},#{state},#{remark},#{serialNum},#{isRecommend},#{sort})
	</insert>
	<delete id="delete" parameterType="map">
		DELETE FROM bank
		WHERE
		bank_id =
		#{arg0}
	</delete>
	<select id="queryCount" parameterType="map" resultType="int">
		select count(bank_id) from bank where 1=1
		<if test="bankName !=null"> and bank_name like concat('%',#{bankName},'%')</if>
		<if test="isRecommend !=null"> and is_recommend like concat('%',#{isRecommend},'%')</if>
		<if test="state !=null"> and state like concat('%',#{state},'%')</if>
	</select>
	<select id="query" parameterType="map" resultMap="bankinfoMap">
		select
		<include refid="Base_Column_List" />
		from
		bank where 1=1
		<if test="bankName !=null"> and bank_name like concat('%',#{bankName},'%')</if>
		<if test="isRecommend !=null"> and is_recommend like concat('%',#{isRecommend},'%')</if>
		<if test="state !=null"> and state like concat('%',#{state},'%')</if>
		limit ${iDisplayStart},${iDisplayLength}
	</select>
	<!-- 查询（根据主键ID查询） -->
	<select id="getBankById" resultType="bank" resultMap="bankinfoMap">
		SELECT
		<include refid="Base_Column_List" />
		FROM bank
		WHERE bank_id = #{arg0}
	</select>
	<!-- 修 改 -->
	<update id="update" parameterType="map">
		UPDATE bank
		<set>
			<if test="bankName != null">
				bank_name = #{bankName},
			</if>
			<if test="useId != null">
				use_id = #{useId},
			</if>
			<if test="bankCode != null">
				bank_code = #{bankCode},
			</if>
			<if test="bankAvatar != null">
				bank_avatar = #{bankAvatar},
			</if>
			<if test="bankLink != null">
				bank_link = #{bankLink},
			</if>
			<if test="state != null">
				state = #{state},
			</if>
			<if test="remark != null">
				remark = #{remark},
			</if>
			<if test="serialNum != null">
				serial_num = #{serialNum},
			</if>
			<if test="isRecommend != null">
				is_recommend = #{isRecommend},
			</if>
			<if test="sort != null">
				sort = #{sort},
			</if>

		</set>
		WHERE bank_id = #{bankId}
	</update>

</mapper>