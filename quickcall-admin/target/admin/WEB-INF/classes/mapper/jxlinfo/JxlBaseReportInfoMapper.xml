<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="JxlBaseReportInfo" >
  <resultMap id="BaseResultMap" type="com.calf.module.jxlinfo.entity.JxlBaseReportInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 18 10:19:58 CST 2017.
    -->
    <id column="jxl_base_report_info_id" property="jxlBaseReportInfoId"/>
    <result column="jxl_name" property="jxlName"/>
    <result column="jxl_id_number" property="jxlIdNumber"/>
    <result column="jxl_mobile" property="jxlMobile"/>
    <result column="jxl_account_id" property="jxlAccountId"/>
    <result column="jxl_token" property="jxlToken"/>
    <result column="jxl_password" property="jxlPassword"/>
    <result column="jxl_website" property="jxlWebsite"/>
    <result column="jxl_state" property="jxlState"/>
    <result column="jxl_create_time" property="jxlCreateTime"/>
    <result column="jxl_create_man" property="jxlCreateMan"/>
    <result column="jxl_modify_time" property="jxlModifyTime"/>
    <result column="jxl_modify_man" property="jxlModifyMan"/>
    <result column="jxl_remark" property="jxlRemark"/>
  </resultMap>
 
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 18 10:19:58 CST 2017.
    -->
    jxl_base_report_info_id, jxl_name, jxl_id_number, jxl_mobile, jxl_account_id, jxl_token, 
    jxl_password, jxl_website, jxl_state, jxl_create_time, jxl_create_man, jxl_modify_time, 
    jxl_modify_man, jxl_remark
  </sql>
 <select id="get" parameterType="map" resultMap="BaseResultMap">
        SELECT
	a.jxl_base_report_info_id as jxlBaseReportInfoId,
	a.jxl_name AS jxlName,
	a.jxl_id_number AS jxlIdNumber,
	a.jxl_mobile AS jxlMobile,
	a.jxl_account_id as jxlAccountId,
	a.jxl_token as jxlToken,
	a.jxl_password as jxlPassword,
	a.jxl_website as jxlWebsite,
	a.jxl_state as jxlState,
	a.jxl_create_time as jxlCreateTime,
	a.jxl_create_man,
	a.jxl_modify_time,
	a.jxl_modify_man,
	a.jxl_remark,
	ad.audit_report_id,
	ad.use_id,
	ad.application_number AS jxlMobileApplicationNumber,
	ad.report_time AS jxlMobileReportTime,
	ad.proposal,
	ad.customer_id,
	ad.platform_customer_id,
	ad. NAME AS jxlMobileIdName,
	ad.phone_num,
	ad.id_card AS jxlMobileIdCard,
	ad.loan_date AS jxlMobileLoanDate,
	ad.ip_remark AS jxlMobileIpRemark,
	ad.version,
	ad.state as jxlMobileIpState,
	ad.create_time,
	ad.create_man,
	ad.modify_time,
	ad.modify_man,
	ad.remark
FROM
	jxl_base_report_info a
LEFT JOIN jxl_audit_report ad ON a.jxl_mobile = ad.phone_num  where jxl_base_report_info_id = #{arg0}
    </select>
 <select id="getAccountId" parameterType="map" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from jxl_base_report_info where jxl_base_report_info_id = #{arg0}
    </select>
    <select id="queryCount" parameterType="map" resultType="int">
        select count(jxl_base_report_info_id) from jxl_base_report_info where 1=1
        <if test="null != jxlState and jxlState != ''"> and jxl_state = #{jxlState} </if>
    </select>
    <select id="query" parameterType="map" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from
        jxl_base_report_info where 1=1 
        <if test="null != jxlState and jxlState != ''"> and jxl_state = #{jxlState} </if>
        order by jxl_create_time desc
        limit ${iDisplayStart},${iDisplayLength}
    </select>

<select id="queryAll" parameterType="map" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from
        jxl_base_report_info where 1=1
        order by jxl_create_time desc
    </select>

    <delete id="delete" parameterType="map">
        DELETE FROM jxl_base_report_info
        WHERE
        jxl_base_report_info_id = #{arg0}
    </delete>
<update id="update" parameterType="map" >
     <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 18 10:19:58 CST 2017.
    -->
    update jxl_base_report_info
    <set >
      <if test="jxlName != null" >
        jxl_name = #{jxlName},
      </if>
      <if test="jxlIdNumber != null" >
        jxl_id_number = #{jxlIdNumber},
      </if>
      <if test="jxlMobile != null" >
        jxl_mobile = #{jxlMobile},
      </if>
      <if test="jxlAccountId != null" >
        jxl_account_id = #{jxlAccountId},
      </if>
      <if test="jxlToken != null" >
        jxl_token = #{jxlToken},
      </if>
      <if test="jxlPassword != null" >
        jxl_password = #{jxlPassword},
      </if>
      <if test="jxlWebsite != null" >
        jxl_website = #{jxlWebsite},
      </if>
      <if test="jxlState != null" >
        jxl_state = #{jxlState},
      </if>
      <if test="jxlCreateTime != null" >
        jxl_create_time = #{jxlCreateTime},
      </if>
      <if test="jxlCreateMan != null" >
        jxl_create_man = #{jxlCreateMan},
      </if>
      <if test="jxlModifyTime != null" >
        jxl_modify_time = #{jxlModifyTime},
      </if>
      <if test="jxlModifyMan != null" >
        jxl_modify_man = #{jxlModifyMan},
      </if>
      <if test="jxlRemark != null" >
        jxl_remark = #{jxlRemark},
      </if>
    </set>
    where jxl_base_report_info_id = #{jxlBaseReportInfoId}
  </update>

</mapper>