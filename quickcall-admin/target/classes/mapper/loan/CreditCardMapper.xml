<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="CreditCard">

	<resultMap type="CreditCard" id="creditCardinfoMap">
		<id property="creditCardId" column="credit_card_id"></id>
		<result property="themeBankId" column="theme_bank_id"></result>
		<result property="name" column="name"></result>
		<result property="image" column="image"></result>
		<result property="url" column="url"></result>
		<result property="remark" column="remark"></result>
		<result property="isRecommend" column="is_recommend"></result>
		<result property="serialNum" column="serial_num"></result>
		<result property="state" column="state"></result>
		<result property="createTime" column="create_time"></result>
		<result property="createMan" column="create_man"></result>
		<result property="modifyTime" column="modify_time"></result>
		<result property="modifyMan" column="modify_man"></result>
		<result property="imageBack" column="image_back"></result>
	</resultMap>

	<!-- 通用查询结果列 -->
	<sql id="Base_Column_List">
		credit_card_id, theme_bank_id, name, image, url, remark,
		is_recommend, serial_num,
		state, create_time, create_man, modify_time,
		modify_man,image_back
	</sql>
	<select id="get" parameterType="map" resultMap="creditCardinfoMap">
		select
		<include refid="Base_Column_List" />
		from credit_card
	</select>
	<insert id="insert" parameterType="map">
		INSERT INTO credit_card
		(credit_card_id,theme_bank_id,name,image,url,remark,is_recommend,serial_num,state,create_time,create_man,modify_time,modify_man,image_back)
		VALUES
		(#{creditCardId},#{themeBankId},#{name},#{image},#{url},#{remark},#{isRecommend},#{serialNum},#{state},#{createTime},#{createMan},#{modifyTime},#{modifyMan},#{imageBack})
	</insert>
	<select id="queryCount" parameterType="map" resultType="int">
		select count(credit_card_id) from credit_card where 1=1
		<if test="name !=null"> and name like concat('%',#{name},'%')</if>
		<if test="isRecommend !=null"> and is_recommend like concat('%',#{isRecommend},'%')</if>
		<if test="state !=null"> and state like concat('%',#{state},'%')</if>
	</select>
	<select id="query" parameterType="map" resultMap="creditCardinfoMap">
	select
		<include refid="Base_Column_List" />
		from
		credit_card where 1=1
		<if test="name !=null"> and name like concat('%',#{name},'%')</if>
		<if test="isRecommend !=null"> and is_recommend like concat('%',#{isRecommend},'%')</if>
		<if test="state !=null"> and state like concat('%',#{state},'%')</if>
		limit ${iDisplayStart},${iDisplayLength}
	</select>
	<select id="getCreditCardById" parameterType="map" resultMap="creditCardinfoMap">
		SELECT
		<include refid="Base_Column_List" />
		FROM credit_card
		WHERE credit_card_id = #{arg0}
	</select>
	
	<delete id="delete" parameterType="map">
		DELETE FROM credit_card
		WHERE
		credit_card_id = #{arg0}
	</delete>
	<!-- 查询（根据主键ID查询） -->
	<!-- 修 改 -->
	<update id="update" parameterType="map">
		UPDATE credit_card
		<set>
			<if test="themeBankId != null">
				theme_bank_id = #{themeBankId},
			</if>
			<if test="name != null">
				name = #{name},
			</if>
			<if test="image != null">
				image = #{image},
			</if>
			<if test="url != null">
				url = #{url},
			</if>
			<if test="remark != null">
				remark = #{remark},
			</if>
			<if test="isRecommend != null">
				is_recommend = #{isRecommend},
			</if>
			<if test="serialNum != null">
				serial_num = #{serialNum},
			</if>
			<if test="state != null">
				state = #{state},
			</if>
			<if test="createTime != null">
				create_time = #{createTime},
			</if>
			<if test="createMan != null">
				create_man = #{createMan},
			</if>
			<if test="modifyTime != null">
				modify_time = #{modifyTime},
			</if>
			<if test="modifyMan != null">
				modify_man = #{modifyMan},
			</if>
			<if test="imageBack != null">
				image_back = #{imageBack},
			</if>

		</set>
		WHERE credit_card_id = #{creditCardId}
	</update>

</mapper>