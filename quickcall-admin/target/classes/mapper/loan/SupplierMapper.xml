<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="Supplier" >
  <resultMap id="BaseResultMap" type="com.calf.module.loan.entity.Supplier" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 25 17:22:30 CST 2017.
    -->
    <id column="supplier_id" property="supplierId" jdbcType="VARCHAR" />
    <result column="supplier_name" property="supplierName" jdbcType="VARCHAR" />
    <result column="supplier_code" property="supplierCode" jdbcType="VARCHAR" />
    <result column="supplier_alias" property="supplierAlias" jdbcType="VARCHAR" />
    <result column="state" property="state" jdbcType="INTEGER" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />
    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    <result column="create_man" property="createMan" jdbcType="VARCHAR" />
    <result column="modify_time" property="modifyTime" jdbcType="TIMESTAMP" />
    <result column="modify_man" property="modifyMan" jdbcType="VARCHAR" />
    <result column="supplier_icon" property="supplierIcon" jdbcType="VARCHAR" />
    <result column="supplier_link" property="supplierLink" jdbcType="VARCHAR" />
  </resultMap>
  
  
  <select id="queryCount" parameterType="map" resultType="int">
		select count(*) from supplier where 1=1
		<include refid="queryCondition"></include>
	</select>
	<select id="query" parameterType="map" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from 
		supplier where 1=1
		<include refid="queryCondition"></include>
		  order by create_time desc
        limit ${iDisplayStart},${iDisplayLength}
	</select>
	
  <select id="queryList" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from supplier where 1=1
	</select>
	
  <select id="getSupplierById" resultMap="BaseResultMap" parameterType="map" >
    select 
    <include refid="Base_Column_List" />
    from supplier
    where supplier_id = #{arg0}
  </select>
  
  <delete id="delete" parameterType="map" >
    delete from supplier
    where supplier_id = #{arg0}
  </delete>
 
  <insert id="insert" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 25 17:22:30 CST 2017.
    -->
    insert into supplier (supplier_id, supplier_name, supplier_code, 
      supplier_alias, state, remark, 
      create_time, create_man, modify_time, 
      modify_man, supplier_icon, supplier_link
      )
    values (#{supplierId,jdbcType=VARCHAR}, #{supplierName,jdbcType=VARCHAR}, #{supplierCode,jdbcType=VARCHAR}, 
      #{supplierAlias,jdbcType=VARCHAR}, #{state,jdbcType=INTEGER}, #{remark,jdbcType=VARCHAR}, 
      #{createTime,jdbcType=TIMESTAMP}, #{createMan,jdbcType=VARCHAR}, #{modifyTime,jdbcType=TIMESTAMP}, 
      #{modifyMan,jdbcType=VARCHAR}, #{supplierIcon,jdbcType=VARCHAR}, #{supplierLink,jdbcType=VARCHAR}
      )
  </insert>
  

  
  <update id="update" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 25 17:22:30 CST 2017.
    -->
    update supplier
    <set >
      <if test="supplierName != null" >
        supplier_name = #{supplierName,jdbcType=VARCHAR},
      </if>
      <if test="supplierCode != null" >
        supplier_code = #{supplierCode,jdbcType=VARCHAR},
      </if>
      <if test="supplierAlias != null" >
        supplier_alias = #{supplierAlias,jdbcType=VARCHAR},
      </if>
      <if test="state != null" >
        state = #{state,jdbcType=INTEGER},
      </if>
      <if test="remark != null" >
        remark = #{remark,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createMan != null" >
        create_man = #{createMan,jdbcType=VARCHAR},
      </if>
      <if test="modifyTime != null" >
        modify_time = #{modifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyMan != null" >
        modify_man = #{modifyMan,jdbcType=VARCHAR},
      </if>
      <if test="supplierIcon != null" >
        supplier_icon = #{supplierIcon,jdbcType=VARCHAR},
      </if>
      <if test="supplierLink != null" >
        supplier_link = #{supplierLink,jdbcType=VARCHAR},
      </if>
    </set>
    where supplier_id = #{supplierId,jdbcType=VARCHAR}
  </update>
  
  
  
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 25 17:22:30 CST 2017.
    -->
    supplier_id, supplier_name, supplier_code, supplier_alias, state, remark, create_time, 
    create_man, modify_time, modify_man, supplier_icon, supplier_link
  </sql>
  
  
   <sql id="queryCondition">
     
     <if test="supplierName!=null and supplierName!=''">
         and supplier_name like  concat('%',#{supplierName},'%')
     </if>
     
     <if test="supplierIdUpd!=null and supplierIdUpd!=''">
         and supplier_id!=#{supplierIdUpd}
     </if>
     
      <if test="supplierRepeatName!=null and supplierRepeatName!=''">
         and supplier_name = #{supplierRepeatName}
     </if>
     <if test="supplierCode!=null and supplierCode!=''">
         and supplier_code like concat('%',#{supplierCode},'%')
     </if>
     <if test="state!=null and state!=''">
         and state = #{state}
     </if>
     <if test="supplierAlias!=null and supplierAlias!=''">
         and supplier_alias like concat('%',#{supplierAlias},'%')
     </if>
     
   </sql>
   
   
     <select id="queryOneList" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from supplier where  supplier_name like  concat('%',#{supplierName},'%')
	</select>
  
</mapper>